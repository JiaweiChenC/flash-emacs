#+title: Flash Emacs

Flash Emacs provides flash.nvim-like jump navigation for Emacs.
It dynamically update the labels.

* Install

Add =flash-emacs.el= to your =load-path= and require it:

#+begin_src emacs-lisp
(require 'flash-emacs)
#+end_src

* Usage


** Example 

#+begin_src emacs-lisp
M-x flash-emacs-jump
#+end_src

#+attr_org: :width 400
[[./examples/flash-example.gif]]

#+begin_src 
flash-emacs-ts-jump
#+end_src

*pressing f, you can select the label surrounded text, emacs treesitter required*
#+attr_org: :width 400
[[./examples/flash-emacs-ts.gif]]

** remote functionality 

#+attr_org: :width 400
[[./examples/flash-emacs-remote.gif]]

** search integration

#+attr_org: :width 400
[[./examples/flash-emacs-search.gif]]

* Options

- =flash-emacs-labels=: characters used for labels, default to all lower and upper cases.
#+begin_src elisp
;; example config, add upper case letters as well.
(setq flash-emacs-labels "asdghklqwertyuiopzxcvbnmfjASDGHKLQWERTYUIOPZXCVBNMFJ")
#+end_src
- =flash-emacs-case-sensitive=: nil, t, or smart, default to smart.
#+begin_src elisp
;; nil: case-insensitive search, t: case sensitive search, smart:-case-insensitive if pattern is all lowercase, case-sensitive if it contains uppercase
(setq flash-emacs-case-sensitive 't)
#+end_src
- =flash-emacs-auto-jump-single=: if there is only a single match, jump to it without entering the letter.
- =flash-emacs-exclude-modes=: major modes excluded from search.
- =flash-emacs-max-buffer-size=: maximum buffer size for searching.
- =flash-emacs-dim-background=: whether dim the background while search.
- =flash-emacs-label-style=: whether to replace the text with labels.
- =flash-emacs-label-position=: where the place the labels.

** matching color customization 
You can also customize the color of the matching and the labels:
#+begin_src elisp
(with-eval-after-load 'flash-emacs
  (set-face-attribute 'flash-emacs-match nil
                      :background "gold"
                      :foreground "black")
  (set-face-attribute 'flash-emacs-label nil
                      :background "pink"
                      :foreground "white"))
#+end_src

** jump back functionality
The current code does not provide "jump back" functionality, so customized mark is needed to be able to jump back to the original position after jumping.
Below is an example if "better-jump" package is used:
#+begin_src elisp
(defun flash-emacs--set-jump-before-jump (&rest _args)
  "Set a jump point before running `flash-emacs-jump`."
  (better-jumper-set-jump))

(advice-add 'flash-emacs-jump :before #'flash-emacs--set-jump-before-jump)
#+end_src

* TODO 

+ [X] flash-emacs-jump
+ [X] flash-emacs treesitter integration
+ [ ] flash-emacs search integration 
+ [ ] flash-emacs remote

* Reference 
+ [[https://github.com/folke/flash.nvim][flash.nvim]]
